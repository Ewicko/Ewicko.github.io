<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ManuFix RL Voxel Editor · Ethan Wicko</title>
  <meta name="description" content="Reinforcement learning agent that converts arbitrary STL geometry into 2.5-axis machinable shapes using PPO-trained 3D-CNN policy." />

  <!-- Social preview -->
  <meta property="og:title" content="ManuFix RL Voxel Editor · Ethan Wicko" />
  <meta property="og:description" content="Reinforcement learning agent that converts arbitrary STL geometry into 2.5-axis machinable shapes using PPO-trained 3D-CNN policy." />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="/images/Manufix/manufix.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Favicon / theme -->
  <link rel="icon" href="/images/favicon.png" type="image/png">
  <meta name="theme-color" content="#0b0f17" />

  <style>
    :root{
      --bg:#0b0f17;--card:#121826;--surface:#0f1523;--text:#e6edf7;--muted:#9fb0c8;--accent:#71e5ff;--ring:rgba(113,229,255,.45);--shadow:0 10px 30px rgba(0,0,0,.35)
    }
    [data-theme="light"]{
      --bg:#f7f9fc;--card:#fff;--surface:#f1f5fb;--text:#0e1421;--muted:#516079;--accent:#0066ff;--ring:rgba(0,102,255,.25);--shadow:0 8px 24px rgba(0,0,0,.08)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    a{color:inherit;text-decoration:none}
    .container{width:min(1100px,92%);margin:0 auto}
    header{position:sticky;top:0;z-index:20;backdrop-filter:saturate(140%) blur(8px);background:linear-gradient(180deg,rgba(10,13,20,.7),rgba(10,13,20,.35));border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{font-weight:700;letter-spacing:.2px}
    .brand b{color:var(--accent)}
    .navlinks{display:flex;gap:18px;align-items:center}
    .navlinks a{opacity:.9;padding:8px 10px;border-radius:10px}
    .navlinks a:hover{background:rgba(255,255,255,.06)}
    .toggle{border:1px solid rgba(255,255,255,.12);background:var(--surface);color:var(--text);border-radius:999px;padding:6px 10px;font-size:13px;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
    .project-hero{padding:56px 0 40px}
    .breadcrumb{color:var(--muted);margin-bottom:24px;font-size:14px}
    .breadcrumb a{color:var(--accent);opacity:.9}
    .breadcrumb a:hover{opacity:1;text-decoration:underline}
    .project-hero h1{font-size:clamp(32px,5vw,48px);line-height:1.1;margin:16px 0}
    .project-meta{display:flex;gap:24px;flex-wrap:wrap;margin:24px 0}
    .meta-item{display:flex;flex-direction:column;gap:4px}
    .meta-label{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:1px}
    .meta-value{font-weight:600}
    .hero-section{display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:start;margin:32px 0}
    .hero-content{padding-right:20px}
    .hero-image{width:100%;border-radius:18px;overflow:hidden;box-shadow:var(--shadow)}
    .hero-image img{width:100%;height:auto;display:block}
    .section{padding:48px 0;border-top:1px solid rgba(255,255,255,.06)}
    .section h2{font-size:28px;margin:0 0 24px}
    .section p{color:var(--muted);max-width:70ch;line-height:1.7}
    .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin:32px 0}
    .feature{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:24px}
    .feature h3{margin:0 0 12px;color:var(--accent)}
    .feature p{margin:0;font-size:14px}
    .tech-stack{display:flex;flex-wrap:wrap;gap:12px;margin:24px 0}
    .tech-item{background:linear-gradient(135deg,rgba(113,229,255,.15),rgba(113,229,255,.05));border:1px solid rgba(113,229,255,.3);padding:8px 16px;border-radius:999px;font-weight:500}
    .cta-group{display:flex;gap:12px;flex-wrap:wrap;margin:32px 0}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 20px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));box-shadow:var(--shadow);font-weight:600;transition:all 200ms}
    .btn:hover{outline:2px solid var(--ring);transform:translateY(-2px)}
    .btn-primary{background:var(--accent);color:var(--bg);border-color:var(--accent)}
    .btn-primary:hover{background:color-mix(in srgb,var(--accent),white 20%)}
    .project-nav{padding:48px 0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:24px}
    .nav-link{display:flex;align-items:center;gap:8px;padding:12px 20px;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;transition:all 200ms}
    .nav-link:hover{border-color:var(--accent);transform:translateX(4px)}
    .nav-link.prev:hover{transform:translateX(-4px)}
    .code-block{background:var(--surface);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px;margin:24px 0;overflow-x:auto}
    .code-block pre{margin:0;color:var(--text);font-family:'SF Mono',Monaco,'Courier New',monospace;font-size:13px;line-height:1.6}
    .highlight{color:var(--accent);font-weight:600}
    .formula{background:var(--card);padding:16px;border-radius:8px;margin:16px 0;font-family:'SF Mono',Monaco,monospace}
    .metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:32px 0}
    .metric{text-align:center;padding:20px;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px}
    .metric-value{font-size:32px;font-weight:700;color:var(--accent)}
    .metric-label{font-size:14px;color:var(--muted);margin-top:8px}
    footer{border-top:1px solid rgba(255,255,255,.06);padding:28px 0 40px;color:var(--muted)}
    @media(max-width:768px){.project-meta{gap:16px}.feature-grid{grid-template-columns:1fr}.code-block{padding:16px}.hero-section{grid-template-columns:1fr;gap:24px}.hero-content{padding-right:0}}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">Ethan <b>Wicko</b></div>
      <nav class="navlinks" aria-label="Primary">
        <a href="/">Home</a>
        <a href="/#projects">Projects</a>
        <a href="/#about">About</a>
        <a href="/#contact">Contact</a>
        <button class="toggle" id="themeToggle" type="button" aria-pressed="false" aria-label="Toggle theme">🌙 Theme</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="project-hero">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/">Home</a> / <a href="/#projects">Projects</a> / ManuFix RL Voxel Editor
      </nav>

      <h1>ManuFix — RL Voxel Editor for 2.5-Axis Machinability</h1>

      <div class="project-meta">
        <div class="meta-item">
          <span class="meta-label">Type</span>
          <span class="meta-value">RL Research</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Role</span>
          <span class="meta-value">Lead Developer</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Duration</span>
          <span class="meta-value">5 months</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Status</span>
          <span class="meta-value">Proof of Concept</span>
        </div>
      </div>

      <div class="hero-section">
        <div class="hero-content">
          <h2 style="font-size:28px;margin:0 0 24px">Overview</h2>
          <p style="color:var(--muted);line-height:1.7">
            I built a reinforcement-learning agent that converts arbitrary STL geometry into a Z-monotone (no undercuts)
            shape that can be milled with 2.5-axis CNC toolpaths. The pipeline voxelizes the input, computes Z-visibility/draft,
            non-monotonicity masks, EDT/thickness maps, and runs a PPO-trained 3D-CNN policy to make localized add/remove
            "brush" edits. I trained it at a low resolution in ~2 hours, but in practice it can be trained at any resolution with
            more time.
          </p>
          <div class="cta-group">
            <a href="#implementation" class="btn btn-primary">View Implementation ↓</a>
            <a href="#results" class="btn">See Results ↓</a>
          </div>
        </div>
        <div class="hero-image">
          <img src="/images/Manufix/manufix.png" alt="ManuFix visualization showing voxel editing process for manufacturability" loading="eager" />
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Learning Progress Visualization</h2>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin: 32px 0;">
        <div>
          <video width="100%" height="auto" autoplay loop muted playsinline style="border-radius: 12px; box-shadow: var(--shadow);">
            <source src="/images/Manufix/episode_animation_start.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <p style="text-align: center; margin-top: 12px; font-size: 14px; color: var(--muted);">Early training: agent learning material removal</p>
        </div>
        <div>
          <video width="100%" height="auto" autoplay loop muted playsinline style="border-radius: 12px; box-shadow: var(--shadow);">
            <source src="/images/Manufix/episode_animation_end.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <p style="text-align: center; margin-top: 12px; font-size: 14px; color: var(--muted);">Trained agent: systematic non-monotonic removal</p>
        </div>
      </div>
      <div style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 32px; align-items: start; margin-top: 24px;">
        <p style="color: var(--muted); margin: 0;">
          The video on the left shows the agent during early training, learning how to identify and remove material.
          The video on the right shows the trained agent systematically removing non-monotonic regions to ensure the part
          can be manufactured from the side. The rotation back and forth provides depth perception to better visualize the 3D voxel edits.
        </p>
        <div style="text-align: center;">
          <img src="/images/Manufix/grooved_pulley.png" alt="Grooved pulley wheel" style="width: 100%; max-width: 400px; border-radius: 12px; box-shadow: var(--shadow);">
          <p style="margin-top: 12px; font-size: 14px; color: var(--muted);">Grooved pulley wheel used as toy problem for side machining</p>
        </div>
      </div>
    </section>

    <section class="section" id="implementation">
      <h2>RL Implementation</h2>
      <p style="color:var(--muted);font-style:italic;margin-bottom:32px">Tech highlights for ME+AI audiences:</p>

      <div class="tech-stack">
        <span class="tech-item">PyTorch</span>
        <span class="tech-item">PPO</span>
        <span class="tech-item">3D-CNN</span>
        <span class="tech-item">CUDA</span>
      </div>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Formulation</h3>
      <p>
        Single-agent PPO (policy gradient with clipping) that samples a voxel index (x,y,z) from a categorical
        distribution over the grid; the environment interprets that index as a localized edit (add/remove/paint)
        with a small brush. Goal: eliminate non-monotone Z columns while minimizing geometric deviation and
        preserving manufacturability proxies.
      </p>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Policy / Value Networks</h3>
      <p>
        Lightweight 3D-CNN stacks (Conv3d: 1→16→32→64 with ReLU).
      </p>
      <ul style="color:var(--muted);max-width:70ch;line-height:1.8">
        <li><strong>Actor:</strong> a 1×1×1 conv head produces per-voxel logits [D×H×W]; logits are flattened and softmaxed to a categorical over all voxels.</li>
        <li><strong>Critic:</strong> identical trunk with a 1×1×1 value head, followed by global spatial mean to a scalar state-value.</li>
      </ul>

      <h3 style="margin:32px 0 16px;color:var(--accent)">On-Policy Training</h3>
      <p>
        GAE(λ) with γ=0.99, λ=0.95; PPO clip ε=0.2; entropy bonus 0.01 to keep exploration over the 3D action space;
        Adam optimizers (lr = 3×10⁻³); minibatch updates with shuffled indices, 10 epochs per update;
        critic MSE loss with 0.5 weight.
      </p>

      <h3 style="margin:32px 0 16px;color:var(--accent)">State & Device</h3>
      <p>
        POC uses a single-channel occupancy tensor (ready to extend to multi-channel features like masks/EDT);
        automatic CUDA usage when available; model checkpointing included.
      </p>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Outcome</h3>
      <p>
        The agent learns to remove undercuts and enforce Z-monotonicity with minimal edits. Shown to be resolution agnostic. Showcases effective approach to learning
        geomerty manipulation and can be explaned upon for other use cases in the future.
      </p>
    </section>

    <section class="section">
      <h2>Future Work</h2>
      <p>
        Current development focuses on extending the approach to handle 3-axis and 5-axis machining constraints as well as other 
        geometric manipulation, multi-material parts, and assembly-level manufacturability. I'm also exploring transformer-based
        architectures for better long-range spatial reasoning.
      </p>
    </section>

    <nav class="project-nav" aria-label="Project navigation">
      <a href="/bracket-design.html" class="nav-link prev">← Previous: Bracket Design</a>
      <a href="/spacex.html" class="nav-link">Next: SpaceX →</a>
    </nav>
  </main>

  <footer>
    <div class="container">© <span id="year"></span> Ethan Wicko · <a href="/#contact" style="color:var(--accent)">Contact</a></div>
  </footer>

  <script>
    // Theme toggle with persistence
    (function(){
      const root = document.documentElement;
      const pref = localStorage.getItem('theme');
      if (pref === 'light') root.setAttribute('data-theme', 'light');
      document.getElementById('themeToggle').addEventListener('click', () => {
        const isLight = root.getAttribute('data-theme') === 'light';
        if (isLight) root.removeAttribute('data-theme'); else root.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', isLight ? 'dark' : 'light');
      });
    })();

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>