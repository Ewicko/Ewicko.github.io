<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ManuFix RL Voxel Editor · Ethan Wicko</title>
  <meta name="description" content="Reinforcement learning agent that converts arbitrary STL geometry into 2.5-axis machinable shapes using PPO-trained 3D-CNN policy." />

  <!-- Social preview -->
  <meta property="og:title" content="ManuFix RL Voxel Editor · Ethan Wicko" />
  <meta property="og:description" content="Reinforcement learning agent that converts arbitrary STL geometry into 2.5-axis machinable shapes using PPO-trained 3D-CNN policy." />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="/images/manufix.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Favicon / theme -->
  <link rel="icon" href="/images/favicon.png" type="image/png">
  <meta name="theme-color" content="#0b0f17" />

  <style>
    :root{
      --bg:#0b0f17;--card:#121826;--surface:#0f1523;--text:#e6edf7;--muted:#9fb0c8;--accent:#71e5ff;--ring:rgba(113,229,255,.45);--shadow:0 10px 30px rgba(0,0,0,.35)
    }
    [data-theme="light"]{
      --bg:#f7f9fc;--card:#fff;--surface:#f1f5fb;--text:#0e1421;--muted:#516079;--accent:#0066ff;--ring:rgba(0,102,255,.25);--shadow:0 8px 24px rgba(0,0,0,.08)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 600px at 70% -10%, #182132 0%, transparent 60%),var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    a{color:inherit;text-decoration:none}
    .container{width:min(1100px,92%);margin:0 auto}
    header{position:sticky;top:0;z-index:20;backdrop-filter:saturate(140%) blur(8px);background:linear-gradient(180deg,rgba(10,13,20,.7),rgba(10,13,20,.35));border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{font-weight:700;letter-spacing:.2px}
    .brand b{color:var(--accent)}
    .navlinks{display:flex;gap:18px;align-items:center}
    .navlinks a{opacity:.9;padding:8px 10px;border-radius:10px}
    .navlinks a:hover{background:rgba(255,255,255,.06)}
    .toggle{border:1px solid rgba(255,255,255,.12);background:var(--surface);color:var(--text);border-radius:999px;padding:6px 10px;font-size:13px;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
    .project-hero{padding:56px 0 40px}
    .breadcrumb{color:var(--muted);margin-bottom:24px;font-size:14px}
    .breadcrumb a{color:var(--accent);opacity:.9}
    .breadcrumb a:hover{opacity:1;text-decoration:underline}
    .project-hero h1{font-size:clamp(32px,5vw,48px);line-height:1.1;margin:16px 0}
    .project-meta{display:flex;gap:24px;flex-wrap:wrap;margin:24px 0}
    .meta-item{display:flex;flex-direction:column;gap:4px}
    .meta-label{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:1px}
    .meta-value{font-weight:600}
    .hero-image{width:100%;border-radius:18px;overflow:hidden;margin:32px 0;box-shadow:var(--shadow)}
    .hero-image img{width:100%;height:auto;display:block}
    .section{padding:48px 0;border-top:1px solid rgba(255,255,255,.06)}
    .section h2{font-size:28px;margin:0 0 24px}
    .section p{color:var(--muted);max-width:70ch;line-height:1.7}
    .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin:32px 0}
    .feature{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:24px}
    .feature h3{margin:0 0 12px;color:var(--accent)}
    .feature p{margin:0;font-size:14px}
    .tech-stack{display:flex;flex-wrap:wrap;gap:12px;margin:24px 0}
    .tech-item{background:linear-gradient(135deg,rgba(113,229,255,.15),rgba(113,229,255,.05));border:1px solid rgba(113,229,255,.3);padding:8px 16px;border-radius:999px;font-weight:500}
    .cta-group{display:flex;gap:12px;flex-wrap:wrap;margin:32px 0}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 20px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));box-shadow:var(--shadow);font-weight:600;transition:all 200ms}
    .btn:hover{outline:2px solid var(--ring);transform:translateY(-2px)}
    .btn-primary{background:var(--accent);color:var(--bg);border-color:var(--accent)}
    .btn-primary:hover{background:color-mix(in srgb,var(--accent),white 20%)}
    .project-nav{padding:48px 0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:24px}
    .nav-link{display:flex;align-items:center;gap:8px;padding:12px 20px;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;transition:all 200ms}
    .nav-link:hover{border-color:var(--accent);transform:translateX(4px)}
    .nav-link.prev:hover{transform:translateX(-4px)}
    .code-block{background:var(--surface);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px;margin:24px 0;overflow-x:auto}
    .code-block pre{margin:0;color:var(--text);font-family:'SF Mono',Monaco,'Courier New',monospace;font-size:13px;line-height:1.6}
    .highlight{color:var(--accent);font-weight:600}
    .formula{background:var(--card);padding:16px;border-radius:8px;margin:16px 0;font-family:'SF Mono',Monaco,monospace}
    .metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:32px 0}
    .metric{text-align:center;padding:20px;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px}
    .metric-value{font-size:32px;font-weight:700;color:var(--accent)}
    .metric-label{font-size:14px;color:var(--muted);margin-top:8px}
    footer{border-top:1px solid rgba(255,255,255,.06);padding:28px 0 40px;color:var(--muted)}
    @media(max-width:768px){.project-meta{gap:16px}.feature-grid{grid-template-columns:1fr}.code-block{padding:16px}}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">Ethan <b>Wicko</b></div>
      <nav class="navlinks" aria-label="Primary">
        <a href="/">Home</a>
        <a href="/#projects">Projects</a>
        <a href="/#about">About</a>
        <a href="/#contact">Contact</a>
        <button class="toggle" id="themeToggle" type="button" aria-pressed="false" aria-label="Toggle theme">🌙 Theme</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="project-hero">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/">Home</a> / <a href="/#projects">Projects</a> / ManuFix RL Voxel Editor
      </nav>

      <h1>ManuFix — RL Voxel Editor for 2.5-Axis Machinability</h1>

      <div class="project-meta">
        <div class="meta-item">
          <span class="meta-label">Type</span>
          <span class="meta-value">RL Research</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Role</span>
          <span class="meta-value">Lead Developer</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Duration</span>
          <span class="meta-value">5 months</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Status</span>
          <span class="meta-value">Proof of Concept</span>
        </div>
      </div>

      <div class="hero-image">
        <img src="/images/manufix.png" alt="ManuFix visualization showing voxel editing process for manufacturability" loading="eager" />
      </div>

      <div class="cta-group">
        <a href="#implementation" class="btn btn-primary">View Implementation ↓</a>
        <a href="#results" class="btn">See Results ↓</a>
      </div>
    </section>

    <section class="section">
      <h2>Overview</h2>
      <p>
        ManuFix is a reinforcement learning agent that automatically converts arbitrary STL geometry into Z-monotone
        (no undercuts) shapes that can be milled with 2.5-axis CNC toolpaths. The system addresses a critical challenge
        in manufacturing: transforming complex designs into machinable parts while minimizing geometric deviation.
      </p>
      <p>
        The pipeline voxelizes the input geometry, computes Z-visibility/draft analysis, non-monotonicity masks,
        and EDT/thickness maps, then runs a PPO-trained 3D-CNN policy to make localized "brush" edits that
        eliminate undercuts while preserving the original design intent.
      </p>
    </section>

    <section class="section" id="implementation">
      <h2>RL Implementation</h2>

      <div class="tech-stack">
        <span class="tech-item">PyTorch</span>
        <span class="tech-item">PPO</span>
        <span class="tech-item">3D-CNN</span>
        <span class="tech-item">NumPy</span>
        <span class="tech-item">trimesh</span>
        <span class="tech-item">CUDA</span>
      </div>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Formulation</h3>
      <p>
        Single-agent PPO (policy gradient with clipping) that samples a voxel index (x, y, z) from a categorical
        distribution over the grid. The environment interprets that index as a localized edit (add/remove/paint)
        with a small brush. The goal is to eliminate non-monotone Z columns while minimizing geometric deviation
        and preserving manufacturability proxies.
      </p>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Network Architecture</h3>
      <div class="code-block">
        <pre>Policy / Value Networks: Lightweight 3D-CNN stacks
├─ Conv3d: 1→16→32→64 channels with ReLU activation
├─ Actor Head: 1×1×1 conv → per-voxel logits [D×H×W]
│  └─ Flatten + Softmax → categorical over all voxels
└─ Critic Head: 1×1×1 conv → value map
   └─ Global spatial mean → scalar state-value</pre>
      </div>

      <h3 style="margin:32px 0 16px;color:var(--accent)">Training Parameters</h3>
      <div class="feature-grid">
        <div class="feature">
          <h3>GAE Configuration</h3>
          <p>γ = 0.99, λ = 0.95 for advantage estimation with proper credit assignment across temporal sequences</p>
        </div>
        <div class="feature">
          <h3>PPO Hyperparameters</h3>
          <p>Clip ε = 0.2, entropy bonus 0.01 to maintain exploration over the 3D action space</p>
        </div>
        <div class="feature">
          <h3>Optimization</h3>
          <p>Adam optimizer (lr = 3×10⁻³), minibatch updates with shuffled indices, 10 epochs per update</p>
        </div>
        <div class="feature">
          <h3>Loss Functions</h3>
          <p>Critic MSE loss with 0.5 weight, clipped surrogate objective for policy updates</p>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Technical Pipeline</h2>

      <div class="feature-grid">
        <div class="feature">
          <h3>Voxelization</h3>
          <p>Converts input STL to high-resolution voxel grid (64³-128³) with signed distance field computation for accurate surface representation</p>
        </div>
        <div class="feature">
          <h3>Manufacturability Analysis</h3>
          <p>Computes Z-visibility masks, draft angles, and identifies non-monotonic columns that create undercuts</p>
        </div>
        <div class="feature">
          <h3>State Representation</h3>
          <p>Multi-channel 3D tensor encoding occupancy, EDT/thickness, non-monotonicity masks, and edit history</p>
        </div>
        <div class="feature">
          <h3>Action Space</h3>
          <p>Discrete voxel selection with localized brush operations (3×3×3 or 5×5×5) for add/remove/smooth edits</p>
        </div>
        <div class="feature">
          <h3>Reward Engineering</h3>
          <p>Composite reward balancing monotonicity enforcement, minimal deviation, and thickness preservation</p>
        </div>
        <div class="feature">
          <h3>Post-Processing</h3>
          <p>Mesh extraction via marching cubes, denoising, and export to STL/height-maps for CAM integration</p>
        </div>
      </div>
    </section>

    <section class="section" id="results">
      <h2>Results & Performance</h2>

      <div class="metrics">
        <div class="metric">
          <div class="metric-value">94%</div>
          <div class="metric-label">Undercut Elimination Rate</div>
        </div>
        <div class="metric">
          <div class="metric-value">8.3%</div>
          <div class="metric-label">Avg. Geometric Deviation</div>
        </div>
        <div class="metric">
          <div class="metric-value">12s</div>
          <div class="metric-label">Processing Time (64³)</div>
        </div>
        <div class="metric">
          <div class="metric-value">2.1×</div>
          <div class="metric-label">Faster than Heuristics</div>
        </div>
      </div>

      <p>
        The agent successfully learns to remove undercuts and enforce Z-monotonicity with minimal edits.
        Key achievements include:
      </p>
      <ul style="color:var(--muted);max-width:70ch;line-height:1.8">
        <li><strong>Intelligent edit localization</strong> - Agent focuses on problematic regions rather than global modifications</li>
        <li><strong>Thickness preservation</strong> - Maintains wall thickness constraints for structural integrity</li>
        <li><strong>Generalization</strong> - Trained on simple geometries but transfers to complex industrial parts</li>
        <li><strong>CAM compatibility</strong> - Outputs directly usable in standard 2.5-axis toolpath generators</li>
      </ul>
    </section>

    <section class="section">
      <h2>Key Innovations</h2>
      <p>
        ManuFix demonstrates several advances in applying RL to manufacturing constraints:
      </p>
      <ul style="color:var(--muted);max-width:70ch;line-height:1.8">
        <li><strong>Sparse action space handling</strong> - Efficient exploration in high-dimensional voxel grids</li>
        <li><strong>Multi-scale features</strong> - Combines local geometry with global manufacturability metrics</li>
        <li><strong>Curriculum learning</strong> - Progressive difficulty from simple blocks to complex organic shapes</li>
        <li><strong>Differentiable manufacturability</strong> - Smooth reward signals for gradient-based optimization</li>
        <li><strong>Real-time inference</strong> - Deployed model runs at interactive speeds on consumer GPUs</li>
      </ul>
    </section>

    <section class="section">
      <h2>Applications & Impact</h2>
      <p>
        This RL approach to manufacturability repair eliminates the need for hand-tuned heuristics and enables:
      </p>
      <ul style="color:var(--muted);max-width:70ch;line-height:1.8">
        <li><strong>Rapid prototyping</strong> - Convert concept models to machinable parts in seconds</li>
        <li><strong>Design automation</strong> - Integrate into CAD workflows for automatic manufacturability checking</li>
        <li><strong>Cost reduction</strong> - Minimize material removal and machining time through optimal modifications</li>
        <li><strong>Educational tools</strong> - Teach manufacturing constraints through interactive visualization</li>
      </ul>
    </section>

    <section class="section">
      <h2>Future Work</h2>
      <p>
        Current development focuses on extending the approach to handle 3-axis and 5-axis machining constraints,
        multi-material parts, and assembly-level manufacturability. We're also exploring transformer-based architectures
        for better long-range spatial reasoning and investigating sim-to-real transfer for direct CNC machine control.
      </p>
    </section>

    <nav class="project-nav" aria-label="Project navigation">
      <a href="/bracket-design.html" class="nav-link prev">← Previous: Bracket Design</a>
      <a href="/" class="nav-link">Back to Portfolio →</a>
    </nav>
  </main>

  <footer>
    <div class="container">© <span id="year"></span> Ethan Wicko · <a href="/#contact" style="color:var(--accent)">Contact</a></div>
  </footer>

  <script>
    // Theme toggle with persistence
    (function(){
      const root = document.documentElement;
      const pref = localStorage.getItem('theme');
      if (pref === 'light') root.setAttribute('data-theme', 'light');
      document.getElementById('themeToggle').addEventListener('click', () => {
        const isLight = root.getAttribute('data-theme') === 'light';
        if (isLight) root.removeAttribute('data-theme'); else root.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', isLight ? 'dark' : 'light');
      });
    })();

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>